<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Adjusted CSS for the first box to increase height */
        .first {
            border: 1px solid red;
            width: 50%;
            height: 100px; /* Initial height */
            box-sizing: border-box;
            padding: 10px;
            position: relative; /* Added position relative */
            transition: height 0.5s; /* Added transition for smooth height change */
        }

        .first.active {
            height: 500px; /* Adjusted height when active */
        }

        .first textarea {
            width: calc(100% - 20px); /* Adjust for padding */
            height: 50%; /* Adjust the height as needed */
            box-sizing: border-box;
        }

        .first button {
            width: 80px;
            position: absolute; /* Position the button */
            bottom: 10px; /* Adjust the position as needed */
            right: 10px; /* Adjust the position as needed */
        }

        /* CSS for the content inside the first box */
        .first #infoContainer {
            display: none;
        }

        .first.active #infoContainer {
            display: block;
        }

        .first.active #infoContainer p,
        .first.active #infoContainer img {
            width: 100px;;
            box-sizing: border-box;
        }

        /* Adjusted CSS for the second box */
        .second {
            border: 1px solid green;
            width: 15%;
            height: 300px;
            float: left;
            box-sizing: border-box;
            margin-right: 10px; /* Added margin for spacing */
        }

        /* Adjusted CSS for the third box */
        .third {
            border: 1px solid blue;
            width: 34%;
            height: 300px;
            float: left;
            box-sizing: border-box;
        }
    </style>
    <title>Rectangle Boxes</title>
</head>
<body>
    <div class="first" id="firstBox">
        <textarea id="username" placeholder="아이디를 입력하세요..."></textarea>
        <button onclick="toggleContent()">로그인</button>
        <div id="infoContainer" class="content">
            <p id="displayText"></p>
            <img id="displayImage" src="https://i.namu.wiki/i/9JE9v2nxFAlEr1TV_lhJWaWOgYQ5qTiwlADzEDTpaakBNZ5fRexrst_1Ld3TG3yK4nkFdNx1Jtm6Z58D1Tf9pkQdeY1XX_sYu2MaY0Wc1tc2volMi9S2KU0k-zXN_Jlf9RkT9GV5QhpI6FKSb2_hXA.svg" alt="Displayed Image">
        </div>
    </div>
    <div class="second">
        <button onclick="addTextToThird('버튼 1 내용', '버튼 1')">버튼 1</button>
        <button onclick="addTextToThird('버튼 2 내용', '버튼 2')">버튼 2</button>
        <button onclick="displaySavedText()">버튼 3</button>
    </div>
    </div>
    </div>
    <div class="third" id="thirdBox">
        
    </div>
    <script>
        let lastClickedButton = ""; // Variable to store the last clicked button
        let isFirstClick = true; // Variable to track if it's the first click of button 3


        function toggleContent() {
            var firstBox = document.getElementById('firstBox');
            var infoContainer = document.getElementById('infoContainer');
            var username = document.getElementById('username').value;
            var displayText = document.getElementById('displayText');
            var displayImage = document.getElementById('displayImage');
            var loginButton = document.querySelector('.first button');

            if (firstBox.classList.contains('active')) {
                infoContainer.style.display = 'none';
                firstBox.classList.remove('active');
                loginButton.textContent = '로그인';
            } else {
                if (username !== '') {
                    displayText.textContent = '어서오세요, ' + username + '님!';
                    infoContainer.style.display = 'block';
                    firstBox.classList.add('active');
                    loginButton.textContent = '로그아웃';
                }
            }
        }

        function addTextToThird(text, button) {
            var thirdBox = document.getElementById('thirdBox');
            thirdBox.innerHTML = '<p>' + text + '</p>';
            lastClickedButton = button; // Save the last clicked button
        }

        function displaySavedText() {
            var thirdBox = document.getElementById('thirdBox');
            if (isFirstClick) {
                thirdBox.innerHTML = '<p>저장되었습니다.</p>';
                isFirstClick = false;
            } else {
                if (lastClickedButton === '버튼 1') {
                    thirdBox.innerHTML += '<p>버튼 1 내용</p>';
                } else if (lastClickedButton === '버튼 2') {
                    thirdBox.innerHTML += '<p>버튼 2 내용</p>';
                } else {
                    thirdBox.innerHTML = '<p>파일이 없습니다.</p>';
                }
            }
        }
    </script>
</body>
</html>